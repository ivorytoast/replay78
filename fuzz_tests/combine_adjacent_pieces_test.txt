# Combine Adjacent Pieces Test
# Tests that two adjacent pieces of the same player can be combined to add their powers
# Based on exact scenario from 78-11.log where the bug was found

# Start new game
ttt|new|

# Reproduce exact scenario from 78-11.log
# X places at (0,0)
ttt|move|0 0 0 0

# O places at (0,1)
ttt|move|0 1 0 1

# X places at (1,0) - now has two X pieces adjacent vertically
ttt|move|1 0 1 0

# O places at (1,1)
ttt|move|1 1 1 1

# Show board state before combine
ttt|show|

# BUG FIX TEST: X combines from (0,0) to (1,0) - should succeed and create power 2
# This was returning "Invalid move" before the bug fix
ttt|move|0 0 1 0

# Show final state - should have X with power 2 at (1,0)
ttt|show|
